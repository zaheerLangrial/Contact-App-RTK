import React, { useState } from "react";
import {useDispatch, useSelector } from "react-redux";
import { deleteContact } from "../Store/Slices/ContactSlice";
import { editContact } from "../Store/Slices/EditContactSlice";

function ContactList(props) {
    const {setMudal , setId} = props
    const dispatch = useDispatch()
    const contacts = useSelector(state => state.contacts)


    const handleEdit = (id) => {
      const obj = contacts.find((contact) => contact.id == id)
      console.log(obj)
      dispatch(editContact(obj))
      setMudal(true)
    }

    const handleDelete = (id) => {
      dispatch(deleteContact(id))
    }
  return (
    <div className="px-3">
      <ul className="">
        {
            contacts.map((contact) =>(
                <li key={contact.id} className="bg-[#FFEAAE] flex justify-between px-1 items-center rounded-lg mb-3">
          <div className="flex">
          <svg
            width="50"
            height="50"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24 5.25C20.2916 5.25 16.6665 6.34967 13.5831 8.40994C10.4996 10.4702 8.09641 13.3986 6.67727 16.8247C5.25812 20.2508 4.88681 24.0208 5.61028 27.6579C6.33376 31.2951 8.11952 34.636 10.7418 37.2583C13.364 39.8805 16.7049 41.6662 20.3421 42.3897C23.9792 43.1132 27.7492 42.7419 31.1753 41.3227C34.6014 39.9036 37.5298 37.5004 39.5901 34.4169C41.6503 31.3335 42.75 27.7084 42.75 24C42.7445 19.0289 40.7674 14.2629 37.2522 10.7478C33.7371 7.23265 28.9711 5.25546 24 5.25ZM12.9131 37.2038C14.026 35.2442 15.6383 33.6146 17.5858 32.481C19.5333 31.3473 21.7465 30.7501 24 30.7501C26.2535 30.7501 28.4667 31.3473 30.4142 32.481C32.3618 33.6146 33.9741 35.2442 35.0869 37.2038C31.9836 39.8169 28.057 41.25 24 41.25C19.943 41.25 16.0164 39.8169 12.9131 37.2038ZM36.2194 36.1631C34.3562 33.0481 31.3692 30.7664 27.8738 29.7881C29.4989 28.9238 30.7884 27.5409 31.537 25.8592C32.2855 24.1776 32.4502 22.294 32.0049 20.5079C31.5595 18.7219 30.5296 17.1362 29.0791 16.0029C27.6286 14.8697 25.8407 14.2541 24 14.2541C22.1593 14.2541 20.3715 14.8697 18.9209 16.0029C17.4704 17.1362 16.4405 18.7219 15.9952 20.5079C15.5498 22.294 15.7145 24.1776 16.463 25.8592C17.2116 27.5409 18.5011 28.9238 20.1263 29.7881C16.6309 30.7664 13.6438 33.0481 11.7806 36.1631C9.37435 33.7482 7.73757 30.6745 7.07697 27.33C6.41637 23.9855 6.76157 20.5203 8.06899 17.3718C9.37641 14.2234 11.5874 11.533 14.4228 9.64022C17.2582 7.74749 20.5909 6.73735 24 6.73735C27.4091 6.73735 30.7418 7.74749 33.5772 9.64022C36.4126 11.533 38.6236 14.2234 39.931 17.3718C41.2384 20.5203 41.5837 23.9855 40.923 27.33C40.2625 30.6745 38.6257 33.7482 36.2194 36.1631ZM24 29.25C22.665 29.25 21.3599 28.8541 20.2499 28.1124C19.1399 27.3707 18.2747 26.3165 17.7638 25.0831C17.2529 23.8497 17.1193 22.4925 17.3797 21.1831C17.6402 19.8738 18.283 18.671 19.227 17.727C20.171 16.783 21.3738 16.1401 22.6831 15.8797C23.9925 15.6192 25.3497 15.7529 26.5831 16.2638C27.8165 16.7747 28.8707 17.6399 29.6124 18.7499C30.3541 19.8599 30.75 21.165 30.75 22.5C30.75 24.2902 30.0388 26.0071 28.773 27.273C27.5071 28.5388 25.7902 29.25 24 29.25Z"
              fill="#F6820C"
            />
          </svg>
          <div className="flex flex-col justify-center w-40 overflow-hidden">
            <h1 className=" text-base font-medium leading-5">{contact.name}</h1>
            <p className="leading-5 text-sm">{contact.email}</p>
          </div>
          </div>
          <div className="flex space-x-1">
            <button  onClick={() => handleEdit(contact.id)}>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.0001 2.66666C14.2491 2.66666 12.5153 3.01153 10.8976 3.6816C9.27996 4.35166 7.81011 5.33378 6.57199 6.5719C4.07151 9.07238 2.66675 12.4638 2.66675 16C2.66675 19.5362 4.07151 22.9276 6.57199 25.4281C7.81011 26.6662 9.27996 27.6483 10.8976 28.3184C12.5153 28.9884 14.2491 29.3333 16.0001 29.3333C19.5363 29.3333 22.9277 27.9286 25.4282 25.4281C27.9287 22.9276 29.3334 19.5362 29.3334 16H26.6667C26.6667 18.829 25.5429 21.5421 23.5426 23.5425C21.5422 25.5428 18.8291 26.6667 16.0001 26.6667C13.1711 26.6667 10.458 25.5428 8.45761 23.5425C6.45722 21.5421 5.33341 18.829 5.33341 16C5.33341 13.171 6.45722 10.4579 8.45761 8.45752C10.458 6.45713 13.1711 5.33332 16.0001 5.33332V2.66666ZM25.0401 3.99999C24.8001 4.00201 24.5705 4.09771 24.4001 4.26666L22.7734 5.87999L26.1067 9.21332L27.7334 7.59999C28.0801 7.25332 28.0801 6.66666 27.7334 6.33332L25.6667 4.26666C25.4934 4.09332 25.2667 3.99999 25.0401 3.99999ZM21.8267 6.82666L12.0001 16.6667V20H15.3334L25.1601 10.16L21.8267 6.82666Z"
                fill="black"
              />
            </svg>
            <span className="sr-only">Edit</span>
            </button>
            <button onClick={() => handleDelete(contact.id)}>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M27.16 11.88L25.8267 14.1867L9.65333 4.85333L10.9867 2.54666L15.04 4.87999L16.8533 4.38666L22.6267 7.71999L23.12 9.54666L27.16 11.88ZM8 25.3333V9.33333H14.76L24 14.6667V25.3333C24 26.0406 23.719 26.7188 23.219 27.2189C22.7189 27.719 22.0406 28 21.3333 28H10.6667C9.95942 28 9.28115 27.719 8.78105 27.2189C8.28095 26.7188 8 26.0406 8 25.3333Z"
                fill="#5F00D9"
              />
            </svg>
            <span className=" sr-only">Delete</span>
            </button>
          </div>
        </li>
            ))
        }
        
      </ul>
    </div>
  );
}

export default ContactList;
